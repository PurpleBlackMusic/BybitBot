# Bybit Spot Guardian

–ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π —Ä–∞–±–æ—á–∏–π —Å—Ç–æ–ª –¥–ª—è —Å–ø–æ—Ç–æ–≤–æ–≥–æ —Ç—Ä–µ–π–¥–∏–Ω–≥–∞ –Ω–∞ Bybit. –ù–∞ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ –æ—Å—Ç–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è, –∞ –≤–µ—Å—å –∏–Ω–∂–µ–Ω–µ—Ä–Ω—ã–π –∞—Ä—Å–µ–Ω–∞–ª ‚Äî –æ—Ç —Ä–∏—Å–∫-–º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç–∞ –¥–æ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏ ‚Äî –∞–∫–∫—É—Ä–∞—Ç–Ω–æ —Å–∫—Ä—ã—Ç, —á—Ç–æ–±—ã –Ω–µ –º–µ—à–∞—Ç—å –µ–∂–µ–¥–Ω–µ–≤–Ω–æ–π —Ç–æ—Ä–≥–æ–≤–ª–µ –∏ –≤ —Ç–æ –∂–µ –≤—Ä–µ–º—è –≤—Å–µ–≥–¥–∞ –±—ã—Ç—å –ø–æ–¥ —Ä—É–∫–æ–π.

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

```bash
pip install -r requirements.txt
cp .env.example .env  # –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –∫–ª—é—á–∏ –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
streamlit run app.py
```

–û–±—ë—Ä—Ç–∫–∞ `app.py` –¥–æ–±–∞–≤–ª—è–µ—Ç –∫–æ—Ä–µ–Ω—å –ø—Ä–æ–µ–∫—Ç–∞ –≤ `PYTHONPATH`. –ü—Ä–∏ –∂–µ–ª–∞–Ω–∏–∏ –º–æ–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å –∏ –Ω–∞–ø—Ä—è–º—É—é: `streamlit run bybit_app/app.py`.

### –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

–ï—Å–ª–∏ –≤—ã —Ç–æ–ª—å–∫–æ –∑–Ω–∞–∫–æ–º–∏—Ç–µ—Å—å —Å —Ä–∞–±–æ—á–∏–º —Å—Ç–æ–ª–æ–º –∏–ª–∏ —Ö–æ—Ç–∏—Ç–µ —Å–¥–µ–ª–∞—Ç—å –±—ã—Å—Ç—Ä—ã–π —Å–∫—Ä–∏–Ω—à–æ—Ç, –Ω–∞–ø–æ–ª–Ω–∏—Ç–µ –ª–æ–∫–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏:

```bash
python dev/seed_guardian_demo.py
```

–°–∫—Ä–∏–ø—Ç —Å–æ–∑–¥–∞—Å—Ç —Ñ–∞–π–ª—ã `ai/status.testnet.json` –∏ `ai/status.mainnet.json` —Å –ø—Ä–∏–º–µ—Ä–æ–º —Å–∏–≥–Ω–∞–ª–∞, –∞ —Ç–∞–∫–∂–µ –∂—É—Ä–Ω–∞–ª—ã `pnl/executions.testnet.jsonl` –∏ `pnl/executions.mainnet.jsonl` —Å —Ç—Ä–µ–º—è –¥–µ—Å—è—Ç–∫–∞–º–∏ —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã—Ö –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–π. –ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –≥–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞, –±–æ—Ç –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –æ—Ç–∫—Ä–æ—é—Ç—Å—è —É–∂–µ —Å –Ω–∞–ø–æ–ª–Ω–µ–Ω–Ω—ã–º–∏ —Ç–∞–±–ª–∏—Ü–∞–º–∏ –∏ –º–µ—Ç—Ä–∏–∫–∞–º–∏.

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –ø–æ–ø–∞–¥—ë—Ç–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É ¬´Bybit Spot Guardian¬ª:

1. **–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∏ —Å–æ—Å—Ç–æ—è–Ω–∏–µ** ‚Äî —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–ª—é—á–µ–π, –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ Testnet/Mainnet –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–≤—è–∑–∏.
2. **–î—Ä—É–∂–µ–ª—é–±–Ω—ã–π —Å–ø–æ—Ç-–±–æ—Ç** ‚Äî –∫–∞—Ä—Ç–æ—á–∫–∞ —Ç–µ–∫—É—â–µ–≥–æ —Å–∏–≥–Ω–∞–ª–∞, –∫–æ–Ω—Ç—Ä–æ–ª—å —Ä–∏—Å–∫–æ–≤ –∏ —á–∞—Ç —Å –±–æ—Ç–æ–º.
3. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–¥–µ–ª–æ–∫** ‚Äî –∏—Å–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –æ—Ä–¥–µ—Ä–∞, –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–π PnL, —Ä–∞–∑–±–∏–≤–∫–∞ –ø–æ –ø–∞—Ä–∞–º –∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ —Å–≤–µ–∂–µ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö.
4. **–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –±–æ—Ç–∞** ‚Äî –±–ª–æ–∫, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–¥—Å–≤–µ—á–∏–≤–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º—ã —Å –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º —Å–∏–≥–Ω–∞–ª–æ–≤, –∂—É—Ä–Ω–∞–ª–æ–º —Å–¥–µ–ª–æ–∫ –∏–ª–∏ API –∫–ª—é—á–∞–º–∏.

## –°–∫—Ä—ã—Ç—ã–π –∞—Ä—Å–µ–Ω–∞–ª

–†–∞–∑–¥–µ–ª ¬´ü´• –°–∫—Ä—ã—Ç—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è –±–æ—Ç–∞¬ª —Ä–∞—Å–∫—Ä—ã–≤–∞–µ—Ç –≤—Å—é —ç–∫—Å–ø–µ—Ä—Ç–∏–∑—É –ø—Ä–æ–µ–∫—Ç–∞:

| –ö–∞—Ç–µ–≥–æ—Ä–∏—è | –ß—Ç–æ –≤–Ω—É—Ç—Ä–∏ |
| --- | --- |
| **–†—ã–Ω–æ–∫ –∏ —Å–∏–≥–Ω–∞–ª—ã** | –°–∫—Ä–∏–Ω–µ—Ä –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏, –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä —É–Ω–∏–≤–µ—Ä—Å–∞, —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π AI-—Ç—Ä–µ–π–¥–µ—Ä, –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∏ –æ–±—É—á–∞—é—â–∏–π ¬´–ü—Ä–æ—Å—Ç–æ–π —Ä–µ–∂–∏–º¬ª. |
| **–†–∏—Å–∫ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** | –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏, KillSwitch –∏ API Nanny, –≥–∏–≥–∏–µ–Ω–∞ –æ—Ä–¥–µ—Ä–æ–≤, –ª–∏–º–∏—Ç—ã –æ–±—ä—ë–º–∞, –ø–æ—Ä—Ç—Ñ–µ–ª—å–Ω—ã–π —Ä–∏—Å–∫ (HRP/VolTarget), –∫–æ–Ω—Ç—Ä–æ–ª—å –∏ –º–æ–Ω–∏—Ç–æ—Ä WebSocket, —Å–≤–µ—Ä–∫–∞ –ø–æ–∑–∏—Ü–∏–π, –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –≤—Ä–µ–º–µ–Ω–∏. |
| **–¢–æ—Ä–≥–æ–≤—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã** | TWAP –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ, live-–∞–Ω–∞–ª–∏–∑ —Å—Ç–∞–∫–∞–Ω–∞, –æ—Ü–µ–Ω–∫–∞ –∏–º–ø–∞–∫—Ç–∞, EV-—Ç—é–Ω–∏–Ω–≥, —Ä–µ—Ñ—Ä–µ—à –ø—Ä–∞–≤–∏–ª, —Å–∏–º–≤–æ–ª-–æ–≤—ã–µ overrides –∏ —Ç–µ—Å—Ç –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏, –∞ —Ç–∞–∫–∂–µ –º–æ–¥—É–ª—å Trade Pairs –¥–ª—è –ø–æ—Å—Ç-–∞–Ω–∞–ª–∏—Ç–∏–∫–∏. |
| **PnL –∏ –æ—Ç—á—ë—Ç–Ω–æ—Å—Ç—å** | –î–≤–∞ –¥–∞—à–±–æ—Ä–¥–∞ –ø–æ –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç–∏ –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ –ø–æ—Ä—Ç—Ñ–µ–ª—è, –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–¥–µ–ª–æ–∫ –∏ –æ—Ç—á—ë—Ç –ø–æ shortfall. |
| **–ö–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏** | –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Telegram-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –∏ –∂—É—Ä–Ω–∞–ª –ª–æ–≥–æ–≤. |

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

- `bybit_app/app.py` ‚Äî –≥–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞: —Å—Ç–∞—Ç—É—Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è, –ø–æ—à–∞–≥–æ–≤—ã–π –æ–Ω–±–æ—Ä–¥–∏–Ω–≥ –∏ —Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–∫—Ä—ã—Ç—ã–µ –ø–∞–Ω–µ–ª–∏.
- `bybit_app/pages/` ‚Äî –Ω–∞–±–æ—Ä Streamlit-—Å—Ç—Ä–∞–Ω–∏—Ü –¥–ª—è —Ç–æ—Ä–≥–æ–≤–ª–∏, –∞–Ω–∞–ª–∏—Ç–∏–∫–∏, —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–∏—Å–∫–æ–º –∏ —Å–µ—Ä–≤–∏—Å–Ω—ã—Ö –∑–∞–¥–∞—á.
- `bybit_app/utils/` ‚Äî –¥–≤–∏–∂–æ–∫ —Å–ø–æ—Ç–æ–≤–æ–≥–æ –±–æ—Ç–∞: API-–∫–ª–∏–µ–Ω—Ç—ã, –∞–ª–ª–æ–∫–∞—Ç–æ—Ä—ã, —Ä–∞—Å—á—ë—Ç PnL, —Ä–∏—Å–∫-–º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç –∏ –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏.
- `bybit_app/_data/` ‚Äî –ª–æ–∫–∞–ª—å–Ω—ã–π –∫—ç—à, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏, –∂—É—Ä–Ω–∞–ª—ã —Å–¥–µ–ª–æ–∫ –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∞–Ω–∞–ª–∏–∑–∞.

## –°–æ–≤–µ—Ç—ã –ø–æ —Ä–∞–±–æ—Ç–µ

- –í–∫–ª—é—á–∞–π—Ç–µ **DRY-RUN** –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å—Ç—Ä–∞—Ç–µ–≥–∏–π ‚Äî –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è.
- Guardian Bot –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É—á–∏—Ç—ã–≤–∞–µ—Ç –∫–æ–º–∏—Å—Å–∏–∏, –∏–º–ø–∞–∫—Ç –∏ –ª–∏–º–∏—Ç—ã –∫–∞–ø–∏—Ç–∞–ª–∞; –µ—Å–ª–∏ —Å–∏–≥–Ω–∞–ª —É—Å—Ç–∞—Ä–µ–ª, —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –ø—Ä–µ–¥—É–ø—Ä–µ–¥–∏—Ç –æ–± —ç—Ç–æ–º.
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Telegram-—Å—Ç—Ä–∞–Ω–∏—Ü—É –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ —Å–¥–µ–ª–∫–∞—Ö –∏ heartbeat, —á—Ç–æ–±—ã –Ω–µ –ø—Ä–æ–ø—É—Å–∫–∞—Ç—å —Å–æ–±—ã—Ç–∏—è —Å–ø–æ—Ç–∞.
- –í —Ä–∞–∑–¥–µ–ª–µ —Ä–∏—Å–∫–∞ –¥–µ—Ä–∂–∏—Ç–µ —Ä–µ–∑–µ—Ä–≤ –∫—ç—à–∞ –Ω–µ –Ω–∏–∂–µ 10 %, —á—Ç–æ–±—ã –±–æ—Ç –Ω–µ –ø–µ—Ä–µ—Ä–∞—Å—Ö–æ–¥–æ–≤–∞–ª –¥–µ–ø–æ–∑–∏—Ç.
- –î–ª—è –±—ã—Å—Ç—Ä—ã—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∑–∞–≥–ª—è–¥—ã–≤–∞–π—Ç–µ –≤ —Å—Ç—Ä–∞–Ω–∏—Ü—ã TimeSync, WS –∫–æ–Ω—Ç—Ä–æ–ª—å –∏ ¬´–ó–¥–æ—Ä–æ–≤—å–µ –∏ —Å—Ç–∞—Ç—É—Å¬ª.
- –ü–∞—Ä–∞–º–µ—Ç—Ä—ã `AI_MAX_HOLD_MINUTES` –∏ `AI_MIN_EXIT_BPS` –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç –∞–≤—Ç–æ-–ø–æ—Ä–æ–≥–∏: —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `0` –∏–ª–∏ `None`, —á—Ç–æ–±—ã –±–æ—Ç –ø–æ–¥—Å—Ç–∞–≤–∏–ª –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è –∏–∑ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ —Å–¥–µ–ª–æ–∫.

## –¢–µ—Å—Ç—ã –∏ –∫–æ–Ω—Ç—Ä–æ–ª—å –∫–∞—á–µ—Å—Ç–≤–∞

–í—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ –±–ª–æ–∫–∏ –ø–æ–∫—Ä—ã—Ç—ã pytest-—Ç–µ—Å—Ç–∞–º–∏. –ü–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

```bash
pytest
```

–ï—Å–ª–∏ –≤—ã –∑–∞–ø—É—Å–∫–∞–µ—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ, —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–∞–ø–∫–∞ `bybit_app/_data` –¥–æ—Å—Ç—É–ø–Ω–∞ –¥–ª—è –∑–∞–ø–∏—Å–∏ ‚Äî —Ç—É–¥–∞ –ø–æ–ø–∞–¥–∞—é—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏, –ª–æ–≥–∏ –∏ –∫—ç—à–∏.
